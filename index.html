<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Imperial → Metric Converter</title>
  <style>
    :root{
      --bg:#ffffff;
      --ink:#111111;
      --muted:#5a5a5a;
      --line:#e6e6e6;
      --accent:#d60000; /* restrained swiss red */
      --radius:14px;
      --shadow: 0 10px 30px rgba(0,0,0,.06);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, "Helvetica Neue", Helvetica, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--sans);
      background:var(--bg);
      color:var(--ink);
    }

    /* Swiss-ish grid + generous margins */
    .page{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: clamp(20px, 4vw, 56px);
    }

    .card{
      width:min(920px, 100%);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      background:#fff;
    }

    .header{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 18px;
      padding: 26px 28px 18px;
      border-bottom:1px solid var(--line);
    }

    .title{
      margin:0;
      font-size: clamp(22px, 2.2vw, 32px);
      line-height:1.1;
      letter-spacing:-0.02em;
      font-weight:700;
    }

    .subtitle{
      margin:10px 0 0;
      color:var(--muted);
      font-size: 14px;
      line-height:1.35;
      max-width: 52ch;
    }

    .meta{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      justify-content:flex-start;
      gap:10px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-family:var(--mono);
      font-size:12px;
      color:var(--muted);
      border:1px solid var(--line);
      padding:10px 12px;
      border-radius: 999px;
      white-space:nowrap;
    }
    .dot{
      width:8px; height:8px;
      border-radius:999px;
      background:var(--accent);
      display:inline-block;
    }

    .content{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    .panel{
      padding: 24px 28px 28px;
    }

    .panel + .panel{
      border-left:1px solid var(--line);
      background: #fafafa;
    }

    .sectionTitle{
      margin:0 0 14px;
      font-size: 13px;
      text-transform:uppercase;
      letter-spacing: .12em;
      color:var(--muted);
      font-weight:700;
    }

    .formRow{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 12px;
      align-items:end;
      margin-bottom: 14px;
    }

    label{
      display:block;
      font-size:12px;
      letter-spacing:.06em;
      text-transform:uppercase;
      color:var(--muted);
      margin-bottom:8px;
      font-weight:700;
    }

    input, select, button{
      width:100%;
      font-family:var(--sans);
      font-size:16px;
      border-radius: 12px;
      border: 1px solid var(--line);
      padding: 12px 12px;
      background:#fff;
      color:var(--ink);
      outline:none;
    }

    input:focus, select:focus{
      border-color:#cfcfcf;
      box-shadow: 0 0 0 3px rgba(214,0,0,.08);
    }

    button{
      cursor:pointer;
      font-weight:700;
      border-color: var(--ink);
      background: var(--ink);
      color: #fff;
      padding: 12px 14px;
    }

    button:hover{ opacity:.92; }
    button:active{ transform: translateY(1px); }

    .helper{
      margin: 10px 0 0;
      font-size: 12px;
      color: var(--muted);
      line-height:1.4;
    }

    .result{
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 18px 16px;
      background:#fff;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }

    .resultTop{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap: 14px;
    }

    .big{
      font-size: clamp(28px, 3.2vw, 44px);
      font-weight:800;
      letter-spacing:-0.03em;
      line-height:1;
      margin:0;
    }

    .unit{
      font-family:var(--mono);
      color:var(--muted);
      font-size: 13px;
      white-space:nowrap;
    }

    .equation{
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border-top:1px solid var(--line);
      padding-top: 10px;
      line-height:1.5;
      word-break: break-word;
    }

    .actions{
      display:flex;
      gap:10px;
      margin-top: 12px;
    }

    .ghost{
      background:transparent;
      color: var(--ink);
      border-color: var(--line);
      font-weight:700;
    }
    .ghost:hover{ background:#fff; }

    .footer{
      display:flex;
      justify-content:space-between;
      gap: 14px;
      padding: 14px 28px 18px;
      border-top:1px solid var(--line);
      color: var(--muted);
      font-size: 12px;
    }

    .kbd{
      font-family:var(--mono);
      border:1px solid var(--line);
      border-bottom-width:2px;
      border-radius: 8px;
      padding: 2px 6px;
      background:#fff;
      color: var(--ink);
    }

    @media (max-width: 820px){
      .header{ grid-template-columns:1fr; }
      .meta{ align-items:flex-start; }
      .content{ grid-template-columns:1fr; }
      .panel + .panel{ border-left:none; border-top:1px solid var(--line); }
      .formRow{ grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <main class="page">
    <div class="card" role="application" aria-label="Imperial to metric converter">
      <header class="header">
        <div>
          <h1 class="title">Imperial → Metric</h1>
          <p class="subtitle">
            Fast, minimal conversions for everyday use. Choose a unit, type a value, get a clean result.
          </p>
        </div>
        <div class="meta">
          <div class="badge"><span class="dot"></span> Swiss-style layout • Single file</div>
          <div class="badge">Keyboard: <span class="kbd">Enter</span> convert • <span class="kbd">Esc</span> reset</div>
        </div>
      </header>

      <section class="content">
        <div class="panel">
          <h2 class="sectionTitle">Input</h2>

          <div class="formRow stacked">
  <div>
    <label for="value">Value</label>
    <input id="value" inputmode="decimal" autocomplete="off" placeholder="e.g., 12.5" />
    <div class="helper">Tip: You can paste values like <span class="kbd">5'10</span> for height (ft/in).</div>
  </div>

  <div>
    <label for="mode">Convert</label>
    <select id="mode">
      <optgroup label="Length">
        <option value="in_to_cm">Inches → Centimeters</option>
        <option value="ft_to_m">Feet → Meters</option>
        <option value="mi_to_km">Miles → Kilometers</option>
      </optgroup>
      <optgroup label="Mass">
        <option value="lb_to_kg">Pounds → Kilograms</option>
        <option value="oz_to_g">Ounces → Grams</option>
      </optgroup>
      <optgroup label="Volume">
        <option value="gal_to_l">US Gallons → Liters</option>
        <option value="floz_to_ml">US fl oz → Milliliters</option>
      </optgroup>
      <optgroup label="Temperature">
        <option value="f_to_c">°F → °C</option>
      </optgroup>
    </select>
  </div>
</div>


          <div class="actions">
            <button id="convert">Convert</button>
            <button id="swap" class="ghost" type="button" title="Cycle to the next conversion">Next</button>
            <button id="reset" class="ghost" type="button">Reset</button>
          </div>

          <p class="helper" id="status" aria-live="polite"></p>
        </div>

        <div class="panel">
          <h2 class="sectionTitle">Result</h2>

          <div class="result" aria-live="polite">
            <div class="resultTop">
              <p class="big" id="outValue">—</p>
              <div class="unit" id="outUnit">Metric</div>
            </div>
            <div class="equation" id="equation">Enter a value to see the conversion.</div>
          </div>

          <div class="actions">
            <button id="copy" class="ghost" type="button">Copy result</button>
          </div>

          <p class="helper">
            Precision: results show up to 4 decimals (trimmed). Uses standard fixed conversion factors.
          </p>
        </div>
      </section>

      <footer class="footer">
        <span>Designed for clarity • Minimal UI • No tracking</span>
        <span>Imperial → Metric only</span>
      </footer>
    </div>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);

    const valueEl = $("value");
    const modeEl = $("mode");
    const outValueEl = $("outValue");
    const outUnitEl = $("outUnit");
    const equationEl = $("equation");
    const statusEl = $("status");

    const MODES = [
      // key, label, parse, convert(value)->{out, unit, equation}
      {
        key: "in_to_cm",
        outUnit: "cm",
        parse: parseNumber,
        convert: (x) => ({ out: x * 2.54, unit: "cm", eq: `${x} in × 2.54 = ${x*2.54} cm` })
      },
      {
        key: "ft_to_m",
        outUnit: "m",
        parse: parseFeetOrNumber, // supports 5'10
        convert: (x) => ({ out: x * 0.3048, unit: "m", eq: `${x} ft × 0.3048 = ${x*0.3048} m` })
      },
      {
        key: "mi_to_km",
        outUnit: "km",
        parse: parseNumber,
        convert: (x) => ({ out: x * 1.609344, unit: "km", eq: `${x} mi × 1.609344 = ${x*1.609344} km` })
      },
      {
        key: "lb_to_kg",
        outUnit: "kg",
        parse: parseNumber,
        convert: (x) => ({ out: x * 0.45359237, unit: "kg", eq: `${x} lb × 0.45359237 = ${x*0.45359237} kg` })
      },
      {
        key: "oz_to_g",
        outUnit: "g",
        parse: parseNumber,
        convert: (x) => ({ out: x * 28.349523125, unit: "g", eq: `${x} oz × 28.349523125 = ${x*28.349523125} g` })
      },
      {
        key: "gal_to_l",
        outUnit: "L",
        parse: parseNumber,
        convert: (x) => ({ out: x * 3.785411784, unit: "L", eq: `${x} gal (US) × 3.785411784 = ${x*3.785411784} L` })
      },
      {
        key: "floz_to_ml",
        outUnit: "mL",
        parse: parseNumber,
        convert: (x) => ({ out: x * 29.5735295625, unit: "mL", eq: `${x} fl oz (US) × 29.5735295625 = ${x*29.5735295625} mL` })
      },
      {
        key: "f_to_c",
        outUnit: "°C",
        parse: parseNumber,
        convert: (x) => ({ out: (x - 32) * (5/9), unit: "°C", eq: `(${x} − 32) × 5/9 = ${(x-32)*(5/9)} °C` })
      }
    ];

    function modeIndex() {
      return MODES.findIndex(m => m.key === modeEl.value);
    }

    function parseNumber(raw) {
      const s = String(raw).trim().replace(/,/g, "");
      if (!s) return { ok:false, msg:"Enter a value." };
      const n = Number(s);
      if (!Number.isFinite(n)) return { ok:false, msg:"That value doesn’t look like a number." };
      return { ok:true, val:n };
    }

    // Supports:
    //  - "5'10" or "5' 10" or "5 ft 10 in" (interpreted as feet + inches => decimal feet)
    //  - otherwise falls back to number (feet)
    function parseFeetOrNumber(raw) {
      const s = String(raw).trim().toLowerCase();
      if (!s) return { ok:false, msg:"Enter a value (feet), e.g., 6 or 5'10." };

      // 5'10 or 5' 10
      let m = s.match(/^(\d+(?:\.\d+)?)\s*'\s*(\d+(?:\.\d+)?)?$/);
      if (m) {
        const ft = Number(m[1]);
        const inch = m[2] ? Number(m[2]) : 0;
        if (![ft, inch].every(Number.isFinite)) return { ok:false, msg:"Invalid feet/inches format." };
        return { ok:true, val: ft + (inch / 12), note: `${ft} ft ${inch} in` };
      }

      // 5 ft 10 in
      m = s.match(/^(\d+(?:\.\d+)?)\s*(ft|feet)\s*(\d+(?:\.\d+)?)?\s*(in|inch|inches)?$/);
      if (m) {
        const ft = Number(m[1]);
        const inch = m[3] ? Number(m[3]) : 0;
        if (![ft, inch].every(Number.isFinite)) return { ok:false, msg:"Invalid feet/inches format." };
        return { ok:true, val: ft + (inch / 12), note: `${ft} ft ${inch} in` };
      }

      // Plain number feet
      return parseNumber(s);
    }

    function formatNumber(x) {
      // up to 4 decimals; trim trailing zeros
      const s = (Math.round(x * 10000) / 10000).toFixed(4);
      return s.replace(/\.?0+$/,"");
    }

    function renderResult(mode, parsed) {
      const { out, unit, eq } = mode.convert(parsed.val);
      outValueEl.textContent = formatNumber(out);
      outUnitEl.textContent = unit;

      const inDisplay = parsed.note ? `${parsed.note} (${formatNumber(parsed.val)} ft)` : `${formatNumber(parsed.val)}`;
      const equationSafe = eq
        .replace(String(parsed.val), inDisplay) // show nicer input if we parsed feet/inches
        .replace(/\s+/g, " ")
        .trim();

      equationEl.textContent = equationSafe;
      statusEl.textContent = "Converted.";
    }

    function convertNow() {
      const mode = MODES[modeIndex()];
      const parsed = mode.parse(valueEl.value);
      if (!parsed.ok) {
        outValueEl.textContent = "—";
        outUnitEl.textContent = mode.outUnit;
        equationEl.textContent = "Enter a value to see the conversion.";
        statusEl.textContent = parsed.msg;
        return;
      }
      renderResult(mode, parsed);
    }

    function resetAll() {
      valueEl.value = "";
      statusEl.textContent = "";
      outValueEl.textContent = "—";
      outUnitEl.textContent = "Metric";
      equationEl.textContent = "Enter a value to see the conversion.";
      valueEl.focus();
    }

    function nextMode() {
      const i = modeIndex();
      const next = (i + 1) % MODES.length;
      modeEl.value = MODES[next].key;
      statusEl.textContent = "Mode changed.";
      convertNow();
    }

    async function copyResult() {
      const v = outValueEl.textContent;
      const u = outUnitEl.textContent;
      if (v === "—") {
        statusEl.textContent = "Nothing to copy yet.";
        return;
      }
      const text = `${v} ${u}`;
      try {
        await navigator.clipboard.writeText(text);
        statusEl.textContent = `Copied: ${text}`;
      } catch {
        statusEl.textContent = "Copy failed (clipboard permission).";
      }
    }

    // Events
    $("convert").addEventListener("click", convertNow);
    $("reset").addEventListener("click", resetAll);
    $("swap").addEventListener("click", nextMode);
    $("copy").addEventListener("click", copyResult);

    valueEl.addEventListener("input", () => {
      // live update if there's a valid-ish input
      if (valueEl.value.trim().length === 0) {
        statusEl.textContent = "";
        outValueEl.textContent = "—";
        outUnitEl.textContent = "Metric";
        equationEl.textContent = "Enter a value to see the conversion.";
        return;
      }
      convertNow();
    });

    window.addEventListener("keydown", (e) => {
      if (e.key === "Enter") convertNow();
      if (e.key === "Escape") resetAll();
    });

    // Initialize
    resetAll();
    modeEl.value = "in_to_cm";
  </script>
</body>
</html>
